import{M as u,G as h,a0 as y,a1 as p,a5 as w,N as b}from"./Highlight.vue.CIQc0ySX.js";function v(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,e)}return r}function B(t){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?v(Object(r),!0).forEach(function(e){w(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function F(t,o,r){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=o.coord([o.value(0),o.value(1)]),c=o.coord([o.value(2),o.value(3)]),d=o.coord([o.value(4),o.value(5)]),f=o.value(7),s=o.value(1),l="".concat(o.value(6),"：").concat(b(o.value(1)),"（m）"),n=r>=s&&u.indexColor[o.value(8)]||u.markColor.safe,i="rgba(51,51,51,0.8)";return f==="stage"?{type:"group",children:[{type:"path",shape:{pathData:u.icon.stage,x:a[0]-9*e,y:a[1]-18.5*e,width:190*e,height:30*e},style:{fill:n,shadowBlur:8*e,shadowColor:"rgba(255,255,255,0.3)"},styleEmphasis:{shadowBlur:5*e,shadowColor:i,shadowOffsetX:e,shadowOffsetY:3*e}},{type:"text",style:{text:l,x:a[0]+10*e,y:a[1]-10*e,fontSize:11*e,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*e,textBackgroundColor:n,textLineWidth:100*e,textVerticalAlign:"middle",textAlign:"left",textPadding:[4*e,5*e,2*e,5*e]},styleEmphasis:{fontSize:12*e,textBoxShadowColor:i,textBoxShadowBlur:10*e,textBoxShadowOffsetX:e,textBoxShadowOffsetY:3*e,textBackgroundColor:"#fff",textFill:n}}]}:f==="altitude"?{type:"group",children:[{type:"path",shape:{pathData:u.icon.altitude,x:a[0]-9*e,y:a[1]-23*e,width:190*e,height:30*e},style:{fill:n,shadowBlur:8*e,shadowColor:"rgba(255,255,255,0.3)"},styleEmphasis:{shadowBlur:2*e,shadowColor:i,shadowOffsetX:e,shadowOffsetY:3*e}},{type:"text",style:{text:l,x:a[0]+10*e,y:a[1]-10*e,fontSize:11*e,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*e,textBackgroundColor:n,textLineWidth:100*e,textVerticalAlign:"middle",textAlign:"left",textPadding:[4*e,5*e,2*e,5*e]},styleEmphasis:{fontSize:12*e,textBoxShadowColor:i,textBoxShadowBlur:10*e,textBoxShadowOffsetX:e,textBoxShadowOffsetY:3*e,textBackgroundColor:"#fff",textFill:n}}]}:{type:"group",children:[{z2:5,type:"circle",shape:{cx:a[0],cy:a[1],r:4*e},style:{fill:"#fff",stroke:n}},{z2:4,type:"polyline",shape:{points:[a,c,d]},style:{fill:null,lineWidth:2*e,stroke:n,shadowBlur:8*e,shadowColor:"#fff"},styleEmphasis:{shadowBlur:2*e,shadowColor:i,shadowOffsetX:e,shadowOffsetY:3*e}},{type:"text",style:{text:l,x:d[0],y:d[1]-12*e,fontSize:13*e,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*e,textBackgroundColor:n,textLineWidth:100*e,textAlign:"right",textPadding:[6*e,10*e,3*e,10*e]},styleEmphasis:{textBoxShadowColor:i,textBoxShadowBlur:10*e,textBoxShadowOffsetX:e,textBoxShadowOffsetY:3*e,textBackgroundColor:"#fff",textFill:n}}]}}function S(t,o,r){var e,a,c=((e=t.indices)===null||e===void 0?void 0:e.reduce(function(s,l){return s.concat(l.indices.filter(function(n){var i=n.color||u.indexColor[n.level],x=o.yAxis.findIndex(function(g){return g&&g.$layout&l.code});if(x>-1)return h({color:i,yAxisIndex:x,shape:"symbol",name:n.label,value:n.value,label:{text:"".concat(n.label,"：").concat(n.value)+(l.unit?"（".concat(l.unit,"）"):""),textBackgroundColor:i},itemStyle:{fill:i}},r.shape.symbol,r.side[x])}))},[]))||y,d=((a=t.areas)===null||a===void 0?void 0:a.map(function(s){return h({shape:"rect",value:s.time,gridIndex:[0,1],itemStyle:{fill:s.back||u.areaColor[s.type]}},r.shape.rect)}))||y,f=p(t.split).reduce(function(s,l){return s.concat([h({shape:"line",value:l},r.shape.line),h({shape:"text",value:l,label:{text:l,offset:[0,-15]}},r.shape.text)])},[]);return c.concat(d).concat(f)}function C(t,o,r){var e;return(e=t.indices)===null||e===void 0?void 0:e.reduce(function(a,c){return a.concat(c.indices.map(function(d){var f=r==null?void 0:r.findIndex(function(n){return n&c.code}),s=o.yAxis.findIndex(function(n){return n&&!!(n.$layout&c.code)}),l=t.dimensions.filter(function(n){return n.code===c.code}).some(function(n){var i=t.dimensions.indexOf(n);return t.source.some(function(x){return x[i]!=null})});if(s>-1&&l)return m(d,f,s)})).filter(function(d){return!!d})},[])}function m(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=t.color;return e==null&&(e=u.markColor[t.level]||u.markColor.safe),{z:10,type:"mark",name:t.label,color:e,selected:t.light,data:[{xAxisIndex:o,yAxisIndex:r,shape:"index",value:t.value,gridIndex:[r>1?1:0],label:{text:"".concat(t.label,"：").concat(t.value)+(t.unit?"（".concat(t.unit,"）"):""),fill:"#fff",offset:[5*(r%2?-1:1),-5],align:r%2?"right":"left",padding:[4,5,2,10],verticalAlign:"bottom",backgroundColor:e,borderWidth:1,borderRadius:20},lineStyle:B({stroke:e},u.mark.shape.index.lineStyle)}]}}export{C as a,S as b,F as r,m as t};
