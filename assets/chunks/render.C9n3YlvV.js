import{c as h,a as y,k as p,l as B,t as w}from"./Highlight.vue_vue_type_script_lang.D0hSV0nF.js";function C(r,o,l,t=1){let d=o.coord([o.value(0),o.value(1)]),x=o.coord([o.value(2),o.value(3)]),a=o.coord([o.value(4),o.value(5)]),u=o.value(7),i=o.value(1),n=`${o.value(6)}：${w(o.value(1))}（m）`,e=l>=i&&h.indexColor[o.value(8)]||h.markColor.safe,f="rgba(51,51,51,0.8)";return u==="stage"?{type:"group",children:[{type:"path",shape:{pathData:h.icon.stage,x:d[0]-9*t,y:d[1]-18.5*t,width:190*t,height:30*t},style:{fill:e,shadowBlur:8*t,shadowColor:"rgba(255,255,255,0.3)"},styleEmphasis:{shadowBlur:5*t,shadowColor:f,shadowOffsetX:t,shadowOffsetY:3*t}},{type:"text",style:{text:n,x:d[0]+10*t,y:d[1]-10*t,fontSize:11*t,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*t,textBackgroundColor:e,textLineWidth:100*t,textVerticalAlign:"middle",textAlign:"left",textPadding:[4*t,5*t,2*t,5*t]},styleEmphasis:{fontSize:12*t,textBoxShadowColor:f,textBoxShadowBlur:10*t,textBoxShadowOffsetX:t,textBoxShadowOffsetY:3*t,textBackgroundColor:"#fff",textFill:e}}]}:u==="altitude"?{type:"group",children:[{type:"path",shape:{pathData:h.icon.altitude,x:d[0]-9*t,y:d[1]-23*t,width:190*t,height:30*t},style:{fill:e,shadowBlur:8*t,shadowColor:"rgba(255,255,255,0.3)"},styleEmphasis:{shadowBlur:2*t,shadowColor:f,shadowOffsetX:t,shadowOffsetY:3*t}},{type:"text",style:{text:n,x:d[0]+10*t,y:d[1]-10*t,fontSize:11*t,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*t,textBackgroundColor:e,textLineWidth:100*t,textVerticalAlign:"middle",textAlign:"left",textPadding:[4*t,5*t,2*t,5*t]},styleEmphasis:{fontSize:12*t,textBoxShadowColor:f,textBoxShadowBlur:10*t,textBoxShadowOffsetX:t,textBoxShadowOffsetY:3*t,textBackgroundColor:"#fff",textFill:e}}]}:{type:"group",children:[{z2:5,type:"circle",shape:{cx:d[0],cy:d[1],r:4*t},style:{fill:"#fff",stroke:e}},{z2:4,type:"polyline",shape:{points:[d,x,a]},style:{fill:null,lineWidth:2*t,stroke:e,shadowBlur:8*t,shadowColor:"#fff"},styleEmphasis:{shadowBlur:2*t,shadowColor:f,shadowOffsetX:t,shadowOffsetY:3*t}},{type:"text",style:{text:n,x:a[0],y:a[1]-12*t,fontSize:13*t,textFill:"#fff",textBorderWidth:1,textBorderRadius:20*t,textBackgroundColor:e,textLineWidth:100*t,textAlign:"right",textPadding:[6*t,10*t,3*t,10*t]},styleEmphasis:{textBoxShadowColor:f,textBoxShadowBlur:10*t,textBoxShadowOffsetX:t,textBoxShadowOffsetY:3*t,textBackgroundColor:"#fff",textFill:e}}]}}function v(r,o,l){var a,u;const t=((a=r.indices)==null?void 0:a.reduce((i,n)=>i.concat(n.indices.filter(e=>{let f=e.color||h.indexColor[e.level],s=o.yAxis.findIndex(g=>g&&g.$layout&n.code);if(s>-1)return y({color:f,yAxisIndex:s,shape:"symbol",name:e.label,value:e.value,label:{text:`${e.label}：${e.value}`+(n.unit?`（${n.unit}）`:""),textBackgroundColor:f},itemStyle:{fill:f}},l.shape.symbol,l.side[s])})),[]))||p,d=((u=r.areas)==null?void 0:u.map(i=>y({shape:"rect",value:i.time,gridIndex:[0,1],itemStyle:{fill:i.back||h.areaColor[i.type]}},l.shape.rect)))||p;let x=B(r.split).reduce((i,n)=>i.concat([y({shape:"line",value:n},l.shape.line),y({shape:"text",value:n,label:{text:n,offset:[0,-15]}},l.shape.text)]),[]);return t.concat(d).concat(x)}function m(r,o,l){var t;return(t=r.indices)==null?void 0:t.reduce((d,x)=>d.concat(x.indices.map(a=>{let u=l==null?void 0:l.findIndex(e=>e&x.code),i=o.yAxis.findIndex(e=>e&&!!(e.$layout&x.code)),n=r.dimensions.filter(e=>e.code===x.code).some(e=>{let f=r.dimensions.indexOf(e);return r.source.some(s=>s[f]!=null)});if(i>-1&&n)return S(a,u,i)})).filter(a=>!!a),[])}function S(r,o=0,l=0){let t=r.color;return t==null&&(t=h.markColor[r.level]||h.markColor.safe),{z:10,type:"mark",name:r.label,color:t,selected:r.light,data:[{xAxisIndex:o,yAxisIndex:l,shape:"index",value:r.value,gridIndex:[l>1?1:0],label:{text:`${r.label}：${r.value}`+(r.unit?`（${r.unit}）`:""),fill:"#fff",offset:[5*(l%2?-1:1),-5],align:l%2?"right":"left",padding:[4,5,2,10],verticalAlign:"bottom",backgroundColor:t,borderWidth:1,borderRadius:20},lineStyle:{stroke:t,...h.mark.shape.index.lineStyle}}]}}export{m as a,v as b,C as r,S as t};
